(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{121:function(t,e){var i,s,o,a,n;window.YT||(i={loading:0,loaded:0}),window.YTConfig||(s={host:"https://www.youtube.com"}),i.loading||(i.loading=1,o=[],i.ready=function(t){i.loaded?t():o.push(t)},window.onYTReady=function(){i.loaded=1;for(var t=0;t<o.length;t++)try{o[t]()}catch(t){}},i.setConfig=function(t){for(var e in t)t.hasOwnProperty(e)&&(s[e]=t[e])},(a=document.createElement("script")).type="text/javascript",a.id="www-widgetapi-script",a.src="https://s.ytimg.com/yts/jsbin/www-widgetapi-vfln5nzZR/www-widgetapi.js",a.async=!0,(n=(n=document.currentScript)&&(n.nonce||n.getAttribute("nonce")))&&a.setAttribute("nonce",n),(n=document.getElementsByTagName("script")[0]).parentNode.insertBefore(a,n))},122:function(t,e){t.exports=function(t){if(t){if(0===t.indexOf("user/",5))return!1;if(/^[a-zA-Z0-9\-\_]{11}$/.test(t))return t;var e=t.match(/(?:watch\?v=|v\/|embed\/|ytscreeningroom\?v=|\?v=|\?vi=|e\/|watch\?.*vi?=|\?feature=[a-z_]*&v=|vi\/)([a-zA-Z0-9\-\_]{11})/);return e?e[1]:(e=t.match(/([a-zA-Z0-9\-\_]{11})(?:\?[a-z]|\&[a-z])/))?e[1]:!(e=t.match(/u\/1\/([a-zA-Z0-9\-\_]{11})(?:\?rel=0)?$/))&&(((e=t.match(/(?:watch%3Fv%3D|watch\?v%3D)([a-zA-Z0-9\-\_]{11})[%&]/))||!!(e=t.match(/watchv=([a-zA-Z0-9\-\_]{11})&list=/)))&&e[1])}}},123:function(t,e,i){"use strict";i(71)},124:function(t,e,i){(e=i(3)(!1)).push([t.i,".YouTubePlayer[data-v-1325bdc5]{position:fixed;top:0;left:0}.YouTubePlayer.hidden[data-v-1325bdc5]{top:-100vh}",""]),t.exports=e},125:function(t,e,i){"use strict";var s=i(61);e.default=i.n(s).a},126:function(t,e){t.exports="./dist/asset/good-morning-502.mp3"},127:function(t,e){t.exports="./dist/asset/wood-clock-ticking1.ogg"},128:function(t,e){t.exports="./dist/asset/wood-clock-ticking2.ogg"},129:function(t,e,i){"use strict";i(72)},130:function(t,e,i){(e=i(3)(!1)).push([t.i,'.TomatoTimer[data-v-49f015f2]{position:fixed;bottom:2rem;right:-3rem;z-index:10;line-height:1!important;transform:scale(.5);user-select:none}.TomatoTimer svg[data-v-49f015f2]{filter:drop-shadow(3px 7px 7px #333)}.TomatoTimer button[data-setter][data-v-49f015f2]{outline:none;background:transparent;border:none;font-family:Roboto;font-weight:300;font-size:18px;width:25px;height:30px;color:#f7958e;cursor:pointer}.TomatoTimer button[data-setter][data-v-49f015f2]:hover{opacity:.5}.TomatoTimer .setters[data-v-49f015f2]{position:absolute;left:60px;top:30px;z-index:11}.TomatoTimer .minutes-set[data-v-49f015f2]{float:left;margin-right:28px;cursor:pointer}.TomatoTimer .seconds-set[data-v-49f015f2]{cursor:pointer;float:right}.TomatoTimer .controlls[data-v-49f015f2]{position:absolute;left:50px;top:50px;text-align:center}.TomatoTimer .display-remain-time[data-v-49f015f2]{font-family:Roboto;font-weight:100;font-size:65px;color:#f7958e;cursor:pointer}.TomatoTimer .display-remain-time[data-v-49f015f2]:hover{opacity:.8}.TomatoTimer .button[data-v-49f015f2]{display:inline-block;font-size:22px;width:38px;padding:0;color:#f7958e;cursor:pointer;position:relative;top:-15px}.TomatoTimer #pause[data-v-49f015f2],.TomatoTimer .reset[data-v-49f015f2]{outline:none;background:transparent;border:none;width:30px;height:50px;cursor:pointer;padding:0;display:inline-block;margin-bottom:-1.7rem;margin-top:.7rem}.TomatoTimer .controller[data-v-49f015f2]{margin-left:0;margin-top:1rem}.TomatoTimer .play[data-v-49f015f2]:before{border-top:15px solid transparent;border-bottom:15px solid transparent;border-left:22px solid #f7958e;margin-left:5px}.TomatoTimer .play[data-v-49f015f2]:before,.TomatoTimer .reset[data-v-49f015f2]:before{display:block;content:"";position:static;top:8px;left:0;cursor:pointer}.TomatoTimer .reset[data-v-49f015f2]:before{border:15px solid #f7958e}.TomatoTimer .pause[data-v-49f015f2]:after{content:"";position:static;top:8px;left:0;width:15px;height:28px;background-color:transparent;border-radius:1px;border:5px solid #f7958e;border-top:none;border-bottom:none;cursor:pointer;display:inline-block}.TomatoTimer #pause[data-v-49f015f2]:hover{opacity:.8}.TomatoTimer .e-c-base[data-v-49f015f2]{fill:#fff;stroke:#b6b6b6;stroke-width:4px}.TomatoTimer .e-c-progress[data-v-49f015f2]{fill:none;stroke:#000;stroke-width:4px;transition:stroke-dashoffset .7s}.TomatoTimer .e-c-progress.is-playing[data-v-49f015f2]{stroke:#f7958e}.TomatoTimer .e-c-pointer[data-v-49f015f2]{fill:#fff;stroke:#000;stroke-width:2px}.TomatoTimer .e-c-pointer.is-playing[data-v-49f015f2]{stroke:#f7958e}.TomatoTimer #e-pointer[data-v-49f015f2]{transition:transform .7s}.TomatoTimer.large[data-v-49f015f2]{transform:scale(1);bottom:5rem;right:3rem}.TomatoTimer.larger[data-v-49f015f2]{transform:scale(1.5);bottom:9rem;right:5rem}',""]),t.exports=e},131:function(t,e,i){"use strict";i(73)},132:function(t,e,i){(e=i(3)(!1)).push([t.i,".volume-container input[type=range][data-v-49f015f2]{width:50%;-webkit-appearance:none;border-radius:2px;height:3px;background-image:-webkit-linear-gradient(left,#f7958e,#f7958e 50%,#fff 0,#fff);box-shadow:inset 0 0 5px #ebb;outline:none;transition:.1s}.volume-container input[type=range][data-v-49f015f2]::-webkit-slider-thumb{-webkit-appearance:none;width:10px;height:10px;background:#f7958e;border-radius:50%;transition:.1s}.volume-container input[type=range][data-v-49f015f2]::-webkit-slider-thumb:active,.volume-container input[type=range][data-v-49f015f2]::-webkit-slider-thumb:hover{width:16px;height:16px}",""]),t.exports=e},133:function(t,e,i){"use strict";var s=i(62);e.default=i.n(s).a},218:function(t,e,i){"use strict";i.r(e);function s(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"TomatoTimer",class:e.clientConfig.timerSize},[t("youtube-player",{ref:"BGMPlayer",attrs:{youtubeURL:e.syncConfig.musicURL,display:!1,volume:e.BGMVolume,isPause:e.isBGMPlayerPause,isMute:e.isBGMPlayerPause}}),e._v(" "),t("div",{staticClass:"container"},[!1===e.isStarted?t("div",{staticClass:"setters"},[t("div",{staticClass:"minutes-set"},[t("button",{ref:"DataSetterButtons",attrs:{"data-setter":"minutes-plus"},on:{click:e.onSetterButtonClick}},[e._v("+")]),e._v(" "),t("button",{ref:"DataSetterButtons",attrs:{"data-setter":"minutes-minus"},on:{click:e.onSetterButtonClick}},[e._v("-")])]),e._v(" "),t("div",{staticClass:"seconds-set"},[t("button",{ref:"DataSetterButtons",attrs:{"data-setter":"seconds-plus"},on:{click:e.onSetterButtonClick}},[e._v("+")]),e._v(" "),t("button",{ref:"DataSetterButtons",attrs:{"data-setter":"seconds-minus"},on:{click:e.onSetterButtonClick}},[e._v("-")])])]):e._e(),e._v(" "),t("div",{staticClass:"circle"},[t("svg",{attrs:{width:"250",viewBox:"0 0 220 220",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{transform:"translate(110,110)"}},[t("circle",{staticClass:"e-c-base",class:{"is-playing":e.isPlaying},attrs:{r:"100"}}),e._v(" "),t("g",{attrs:{transform:"rotate(-90)"}},[t("circle",{ref:"Progress",staticClass:"e-c-progress",class:{"is-playing":e.isPlaying},attrs:{r:"100"}}),e._v(" "),t("g",{attrs:{id:"e-pointer"}},[t("circle",{ref:"Pointer",staticClass:"e-c-pointer",class:{"is-playing":e.isPlaying},attrs:{cx:"100",cy:"0",r:"8"}})])])])])]),e._v(" "),t("div",{staticClass:"controlls"},[t("div",{ref:"DisplayRemainTime",staticClass:"display-remain-time",on:{click:e.playOrPauseTimer}},[e._v("00:25")]),e._v(" "),t("div",{staticClass:"controller",class:{isPaused:e.isPaused}},[t("a",{staticClass:"button play-controller",attrs:{href:e.syncConfig.musicURL,title:e.musicTitle,target:"bgm"},on:{click:e.openMusicPlaylist}},[t("i",{staticClass:"music icon"})]),e._v(" "),t("span",{staticClass:"button copy-controller",attrs:{title:e.musicTitle},on:{click:e.copyMusicURL}},[t("i",{staticClass:"copy icon"})]),e._v(" "),t("div",{staticClass:"button mute-controller",on:{click:function(t){e.isVolumeMute=!e.isVolumeMute}}},[!1===e.isVolumeMute?t("i",{staticClass:"volume up icon"}):e._e(),e._v(" "),!0===e.isVolumeMute?t("i",{staticClass:"volume off icon"}):e._e()]),e._v(" "),t("br"),e._v(" "),t("span",{ref:"Pause",staticClass:"button play",attrs:{id:"pause"},on:{click:e.playOrPauseTimer}}),e._v(" "),e.isPaused?t("span",{staticClass:"button reset",on:{click:e.resetTimer}}):e._e()]),e._v(" "),t("div",{staticClass:"volume-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.BGMVolume,expression:"BGMVolume"}],ref:"VolumeSlider",attrs:{type:"range",min:"0",max:"100"},domProps:{value:e.BGMVolume},on:{__r:function(t){e.BGMVolume=t.target.value}}})])])])],1)}function o(){var t=this.$createElement;return(t=this._self._c||t)("div",{staticClass:"YouTubePlayer",class:{hidden:!1===this.display}},[t("div",{ref:"Main"})])}s._withStripped=!0;var a=i(2),u=i.n(a),a=i(0),l=i.n(a),a=i(1),n=i.n(a),a=(o._withStripped=!0,i(121),i(122)),r=i.n(a),a={props:["display","youtubeURL","volume","isMute","isPause"],data:function(){return{waitAction:null,inited:!1,player:null,state:null,playerID:null}},computed:{volumeNumber:function(){return isNaN(this.volume)?100:Number(this.volume)},videoID:function(){var t=r()(this.youtubeURL);return t=!1===t?"I1-zm1H4VvA":t},isReady:function(){return!0===this.inited&&this.player&&"function"==typeof this.player.setVolume}},watch:{volume:function(){if(!1===this.inited)return!1;this.player.setVolume(this.volumeNumber)},youtubeURL:function(){var t=this;this.player.destroy(),this.player=null,this.state=null,this.inited=!1,setTimeout(function(){t.init()},100)},state:function(){var t=this;0===this.state&&(this.play(),setTimeout(function(){t.player.setVolume(t.volumeNumber)},0))},isMute:function(){!0===this.isMute?this.player.mute():this.player.unMute()},isPause:function(){!0===this.isPause?this.player.pauseVideo():this.player.playVideo()}},methods:{init:function(){var n=this;if(!0===this.inited)return!1;var r=this;return new Promise(function(){var e=u()(l.a.mark(function t(e){var i,s,o,a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=!1;case 1:if(i="YouTubePlayer"+(new Date).getTime(),document.getElementById(i)){t.next=7;break}return t.abrupt("break",11);case 7:return t.next=9,n.sleep();case 9:t.next=1;break;case 11:n.$refs.Main.id=i,o=function(t){t.target.setVolume(0),t.target.mute(),t.target.setLoop(!0),t.target.playVideo()},a=function(t){n.state=t.data,!1===s&&1===t.data&&(s=!0,t.target.pauseVideo(),t.target.setVolume(n.volumeNumber),!1===n.isMute&&t.target.unMute(),r.inited=!0,r.checkWaitAction(),e(!0))},function(){n.player=new window.YT.Player(i,{height:"1",width:"1",playerVars:{autoplay:0,controls:1,showinfo:0,branding:0,rel:0},videoId:n.videoID,events:{onReady:o,onStateChange:a}})}();case 16:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}())},checkWaitAction:function(){!0===this.inited&&("play"===this.waitAction?this.play():"pause"===this.waitAction&&this.pause())},sleep:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100;return new Promise(function(t){return setTimeout(t,e)})},play:function(){var t=this;return this.waitAction="play",this.init(),!1!==this.isReady&&("function"!=typeof this.player.setVolume?(setTimeout(function(){t.play()},3e3),!1):(this.player.setVolume(this.volumeNumber),!1===this.isMute&&this.player.unMute(),void this.player.playVideo()))},pause:function(){var t=this;return this.waitAction="pause",this.init(),!1!==this.isReady&&("function"!=typeof this.player.setVolume?(setTimeout(function(){t.pause()},3e3),!1):void this.player.pauseVideo())},reset:function(){var t=this;this.pause(),this.player&&(this.player.seekTo(0),!0===this.isPause&&setTimeout(function(){t.pause()},100))}}},c=(i(123),i(10)),p=i(125),a=Object(c.a)(a,o,[],!1,null,"1325bdc5",null),p=("function"==typeof p.default&&Object(p.default)(a),a.options.__file="src/components/TomatoTimer/YouTubePlayer/YouTubePlayer.vue",a.exports),a=i(126),f=i.n(a),a=i(127),d=i.n(a),a=i(128),m=i.n(a),a={props:["config","utils","clientConfig","syncConfig","toastr"],data:function(){return this.$i18n.locale=this.config.locale,{inited:!0,progressBar:null,indicator:null,pointer:null,displayOutput:null,pauseBtn:null,setterBtns:null,intervalTimer:null,timeLeft:null,isPaused:!1,isStarted:!1,isVolumeMute:!1,wholeTime:Number(60*this.syncConfig.tomatoTimerMinutes),progressLength:2*Math.PI*100,BGMPlayer:null,BGMVolume:50,endSoundObject:new Audio(f.a),tickSound1Object:new Audio(d.a),tickSound2Object:new Audio(m.a)}},components:{"youtube-player":p},computed:{isPlaying:function(){return!0===this.isStarted&&!1===this.isPaused},isBGMPlayerPause:function(){return!0===this.isPaused||this.isVolumeMute},musicTitle:function(){var t=this.syncConfig.musicURL;if(!this.syncConfig.musicPlaylist)return t;for(var e=this.syncConfig.musicPlaylist.length-1;-1<e;e--)if(t===this.syncConfig.musicPlaylist[e].url)return this.syncConfig.musicPlaylist[e].title;return t}},watch:{isPaused:function(){if(!this.BGMPlayer)return!1;!0===this.isPaused?this.BGMPlayer.pause():!1===this.isPaused&&this.BGMPlayer.play()},isStarted:function(){if(!this.BGMPlayer)return!1;!0===this.isStarted?this.BGMPlayer.play():!1===this.isStarted&&this.BGMPlayer.pause()},BGMVolume:function(){localStorage.setItem("BGMVolume",this.BGMVolume),this.isVolumeMute=!1}},mounted:function(){var e=this;return u()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.BGMVolume=localStorage.getItem("BGMVolume"),!1===isNaN(e.BGMVolume)&&"string"==typeof e.BGMVolume?e.BGMVolume=Number(e.BGMVolume):e.BGMVolume=50,e.progressBar=e.$refs.Progress,e.indicator=e.$refs.Indicator,e.pointer=e.$refs.Pointer,e.progressBar.style.strokeDasharray=e.progressLength,e.displayOutput=e.$refs.DisplayRemainTime,e.pauseBtn=e.$refs.Pause,e.setterBtns=e.$refs.DataSetterButtons,e.resetTimer(),e.BGMPlayer=e.$refs.BGMPlayer,e.initSlider(),e.inited=!0;case 13:case"end":return t.stop()}},t)}))()},methods:{changeWholeTime:function(t){0<this.wholeTime+t&&(this.wholeTime+=t,this.update(this.wholeTime,this.wholeTime),this.syncConfig.tomatoTimerMinutes=Math.floor(this.wholeTime/60))},update:function(t,e){var i=-this.progressLength-this.progressLength*t/e;this.progressBar.style.strokeDashoffset=i,this.pointer.style.transform="rotate(".concat(360*t/e,"deg)")},onSetterButtonClick:function(t){switch(t.target.dataset.setter){case"minutes-plus":this.changeWholeTime(60);break;case"minutes-minus":this.changeWholeTime(-60);break;case"seconds-plus":this.changeWholeTime(1);break;case"seconds-minus":this.changeWholeTime(-1)}this.displayTimeLeft(this.wholeTime)},timer:function(t){var e=this,i=Date.now()+1e3*t;this.displayTimeLeft(t),this.intervalTimer=setInterval(function(){if(e.timeLeft=Math.round((i-Date.now())/1e3),e.clientConfig.timerEnableTickingSound&&(e.timeLeft%2==0?e.tickSound1Object:e.tickSound2Object).play(),e.timeLeft<0)return clearInterval(e.intervalTimer),e.isStarted=!1,e.displayTimeLeft(e.wholeTime),e.pauseBtn.classList.remove("pause"),e.pauseBtn.classList.add("play"),void e.onTimeout();e.displayTimeLeft(e.timeLeft)},1e3)},onTimeout:function(){var t=this;this.endSoundObject.play(),this.toastr.success(this.$t("Time to break"),null,{onclick:function(){t.stopEndSound()}}),this.$emit("timeout")},stopEndSound:function(){0<this.endSoundObject.currentTime&&(this.endSoundObject.pause(),this.endSoundObject.currentTime=0)},playTimer:function(t){!1!==this.isStarted&&!this.isPaused||this.playOrPauseTimer(t)},playOrPauseTimer:function(t){!1===this.isStarted?(this.stopEndSound(),this.timer(this.wholeTime),this.isStarted=!0,this.pauseBtn.classList.remove("play"),this.pauseBtn.classList.add("pause"),this.setterBtns.forEach(function(t){t.disabled=!0,t.style.opacity=.5})):(this.isPaused?(this.pauseBtn.classList.remove("play"),this.pauseBtn.classList.add("pause"),this.timer(this.timeLeft)):(this.pauseBtn.classList.remove("pause"),this.pauseBtn.classList.add("play"),clearInterval(this.intervalTimer)),this.isPaused=!this.isPaused)},resetTimer:function(t){clearInterval(this.intervalTimer),"number"==typeof(t=!1===isNaN(t)?Number(t):t)&&(this.wholeTime=t),this.update(this.wholeTime,this.wholeTime),this.displayTimeLeft(this.wholeTime),this.isStarted=!1,this.isPaused=!1,this.pauseBtn.classList.remove("pause"),this.pauseBtn.classList.add("play"),this.BGMPlayer&&this.BGMPlayer.reset()},displayTimeLeft:function(t){var e=Math.floor(t/60),i=t%60,e="".concat(e<10?"0":"").concat(e,":").concat(i<10?"0":"").concat(i);this.displayOutput.textContent=e,this.update(t,this.wholeTime)},initSlider:function(){function e(t){s.css({"background-image":"-webkit-linear-gradient(left ,".concat(i," 0%,").concat(i," ")+t+"%,#fff "+t+"%, #fff 100%)"})}var i="#F7958E",s=n()(this.$refs.VolumeSlider);setTimeout(function(){e(s.val())},0),s.on("mouseenter",function(){var t=s.val();s.on("click",function(){t=s.val(),e(t)}),s.on("mousemove",function(){t=s.val(),e(t)})})},openMusicPlaylist:function(t){t.preventDefault(),t.stopPropagation(),this.$parent.$refs.ConfigModal.openMusicPlaylist()},copyMusicURL:function(){console.log(this.utils.ClipboardUtils.copyPlainString);var t="#PULI_WORK\n\n".concat(this.syncConfig.musicURL);this.utils.ClipboardUtils.copyPlainString(t)}}},p=(i(129),i(131),i(133)),i=Object(c.a)(a,s,[],!1,null,"49f015f2",null);"function"==typeof p.default&&Object(p.default)(i),i.options.__file="src/components/TomatoTimer/TomatoTimer.vue",e.default=i.exports},61:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"TEST_MESSAGE":"Test Message"},"zh-TW":{"TEST_MESSAGE":"測試訊息"}}'),delete t.options._Ctor}},62:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"TEST_MESSAGE":"Test Message"},"zh-TW":{"TEST_MESSAGE":"測試訊息"}}'),delete t.options._Ctor}},71:function(t,e,i){var s=i(4),i=i(124),o={insert:"head",singleton:!1};s(i="string"==typeof(i=i.__esModule?i.default:i)?[[t.i,i,""]]:i,o);t.exports=i.locals||{}},72:function(t,e,i){var s=i(4),i=i(130),o={insert:"head",singleton:!1};s(i="string"==typeof(i=i.__esModule?i.default:i)?[[t.i,i,""]]:i,o);t.exports=i.locals||{}},73:function(t,e,i){var s=i(4),i=i(132),o={insert:"head",singleton:!1};s(i="string"==typeof(i=i.__esModule?i.default:i)?[[t.i,i,""]]:i,o);t.exports=i.locals||{}}}]);